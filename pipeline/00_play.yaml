steps:
  - id: play-01
    name: 'gcr.io/hybrid-cloud-22365/migros-showcase-bash'
    args: ['pipeline/01_play.bash']
    env:
      - 'CLOUDSDK_COMPUTE_ZONE=$_CLUSTER_ZONE'

  - id: go-00
    name: 'gcr.io/cloud-builders/go'
    args: ['mod', 'init', 'github.com/stefanhansatos/migros-showcase/functions']
    env:
      - 'GO111MODULE=on'
      - 'GOPATH=/go'

  - id: go-01
    name: 'gcr.io/cloud-builders/go'
    args: ['mod', 'vendor']
    env:
      - 'GO111MODULE=on'
      - 'GOPROXY=https://proxy.golang.org'

  - id: play-01
    name: 'gcr.io/hybrid-cloud-22365/migros-showcase-bash'
    args: ['pipeline/00_play.bash']
    env:
      - 'CLOUDSDK_COMPUTE_ZONE=$_CLUSTER_ZONE'
